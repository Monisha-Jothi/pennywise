{"ast":null,"code":"var _jsxFileName = \"D:\\\\pennywise-app\\\\client\\\\src\\\\context\\\\TransactionContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useState, useContext, useCallback } from 'react';\nimport { transactionAPI, statsAPI } from '../api/axios';\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TransactionContext = /*#__PURE__*/createContext();\nexport const useTransactions = () => {\n  _s();\n  const context = useContext(TransactionContext);\n  if (!context) {\n    throw new Error('useTransactions must be used within TransactionProvider');\n  }\n  return context;\n};\n_s(useTransactions, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nexport const TransactionProvider = ({\n  children\n}) => {\n  _s2();\n  const [transactions, setTransactions] = useState([]);\n  const [stats, setStats] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const fetchTransactions = useCallback(async () => {\n    try {\n      setLoading(true);\n      const {\n        data\n      } = await transactionAPI.getAll();\n      setTransactions(data);\n    } catch (error) {\n      toast.error('Failed to fetch transactions');\n      console.error(error);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n  const fetchStats = useCallback(async () => {\n    try {\n      const {\n        data\n      } = await statsAPI.getStats();\n      setStats(data);\n    } catch (error) {\n      toast.error('Failed to fetch statistics');\n      console.error(error);\n    }\n  }, []);\n  const addTransaction = async transactionData => {\n    try {\n      const {\n        data\n      } = await transactionAPI.create(transactionData);\n      setTransactions([data, ...transactions]);\n      toast.success('Transaction added successfully!');\n      fetchStats();\n      return data;\n    } catch (error) {\n      var _error$response, _error$response$data;\n      toast.error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Failed to add transaction');\n      throw error;\n    }\n  };\n  const updateTransaction = async (id, transactionData) => {\n    try {\n      const {\n        data\n      } = await transactionAPI.update(id, transactionData);\n      setTransactions(transactions.map(t => t._id === id ? data : t));\n      toast.success('Transaction updated successfully!');\n      fetchStats();\n      return data;\n    } catch (error) {\n      toast.error('Failed to update transaction');\n      throw error;\n    }\n  };\n  const deleteTransaction = async id => {\n    try {\n      await transactionAPI.delete(id);\n      setTransactions(transactions.filter(t => t._id !== id));\n      toast.success('Transaction deleted successfully!');\n      fetchStats();\n    } catch (error) {\n      toast.error('Failed to delete transaction');\n      throw error;\n    }\n  };\n  const value = {\n    transactions,\n    stats,\n    loading,\n    fetchTransactions,\n    fetchStats,\n    addTransaction,\n    updateTransaction,\n    deleteTransaction\n  };\n  return /*#__PURE__*/_jsxDEV(TransactionContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 5\n  }, this);\n};\n_s2(TransactionProvider, \"3iHfZiSlzILQYswjexEhYkpuAfU=\");\n_c = TransactionProvider;\nexport default TransactionContext;\nvar _c;\n$RefreshReg$(_c, \"TransactionProvider\");","map":{"version":3,"names":["React","createContext","useState","useContext","useCallback","transactionAPI","statsAPI","toast","jsxDEV","_jsxDEV","TransactionContext","useTransactions","_s","context","Error","TransactionProvider","children","_s2","transactions","setTransactions","stats","setStats","loading","setLoading","fetchTransactions","data","getAll","error","console","fetchStats","getStats","addTransaction","transactionData","create","success","_error$response","_error$response$data","response","message","updateTransaction","id","update","map","t","_id","deleteTransaction","delete","filter","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/pennywise-app/client/src/context/TransactionContext.js"],"sourcesContent":["import React, { createContext, useState, useContext, useCallback } from 'react';\r\nimport { transactionAPI, statsAPI } from '../api/axios';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst TransactionContext = createContext();\r\n\r\nexport const useTransactions = () => {\r\n  const context = useContext(TransactionContext);\r\n  if (!context) {\r\n    throw new Error('useTransactions must be used within TransactionProvider');\r\n  }\r\n  return context;\r\n};\r\n\r\nexport const TransactionProvider = ({ children }) => {\r\n  const [transactions, setTransactions] = useState([]);\r\n  const [stats, setStats] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const fetchTransactions = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      const { data } = await transactionAPI.getAll();\r\n      setTransactions(data);\r\n    } catch (error) {\r\n      toast.error('Failed to fetch transactions');\r\n      console.error(error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  const fetchStats = useCallback(async () => {\r\n    try {\r\n      const { data } = await statsAPI.getStats();\r\n      setStats(data);\r\n    } catch (error) {\r\n      toast.error('Failed to fetch statistics');\r\n      console.error(error);\r\n    }\r\n  }, []);\r\n\r\n  const addTransaction = async (transactionData) => {\r\n    try {\r\n      const { data } = await transactionAPI.create(transactionData);\r\n      setTransactions([data, ...transactions]);\r\n      toast.success('Transaction added successfully!');\r\n      fetchStats();\r\n      return data;\r\n    } catch (error) {\r\n      toast.error(error.response?.data?.message || 'Failed to add transaction');\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const updateTransaction = async (id, transactionData) => {\r\n    try {\r\n      const { data } = await transactionAPI.update(id, transactionData);\r\n      setTransactions(\r\n        transactions.map((t) => (t._id === id ? data : t))\r\n      );\r\n      toast.success('Transaction updated successfully!');\r\n      fetchStats();\r\n      return data;\r\n    } catch (error) {\r\n      toast.error('Failed to update transaction');\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const deleteTransaction = async (id) => {\r\n    try {\r\n      await transactionAPI.delete(id);\r\n      setTransactions(transactions.filter((t) => t._id !== id));\r\n      toast.success('Transaction deleted successfully!');\r\n      fetchStats();\r\n    } catch (error) {\r\n      toast.error('Failed to delete transaction');\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const value = {\r\n    transactions,\r\n    stats,\r\n    loading,\r\n    fetchTransactions,\r\n    fetchStats,\r\n    addTransaction,\r\n    updateTransaction,\r\n    deleteTransaction,\r\n  };\r\n\r\n  return (\r\n    <TransactionContext.Provider value={value}>\r\n      {children}\r\n    </TransactionContext.Provider>\r\n  );\r\n};\r\n\r\nexport default TransactionContext;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}